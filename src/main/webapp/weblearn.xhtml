<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:p="http://primefaces.org/ui"
        xmlns:jsf="http://xmlns.jcp.org/jsf"
>

<h:head>
    <meta content="charset=UTF-8"/>
    <title>GuessWord</title>
    <style type="text/css">
        html{
            height: 100%;
        }
        body{
            height: 100%;
        }
        th {
            background-color: #4CAF50;
            color: white;
        }
        tr:nth-child(even) {background-color: #f2f2f2}
    </style>

    <!--<script type='text/javascript'>
        if(window.innerWidth&lt;1280)
            location.href='http://site.ru/mobile/';
    </script>-->
</h:head>

<h:body>

    <!--<p:ajaxStatus>
        <f:facet name="start">
            <p:graphicImage value="ajax-loading.gif" />
        </f:facet>
    </p:ajaxStatus>-->




    <div>


        <!--<div id="main" style="background-color: bisque; height: 95vh">-->

            <div style="display:inline-block; width: calc(100% - 10vw)">

                <div style="width: 100%">
                    <h:outputLabel style="color: #2a2a2a;font-size: 200%; font-weight: bold;" id="out1"
                                   value="#{interfaceBean.question}"> </h:outputLabel>
                    <p:separator/>

                </div>
                <h:form>
                    <h:panelGroup id="myblock" layout="block" escape="false" style="height:70%; width:100%">
                        <h:outputText id="list" escape="false" style="font-size: 130%"
                                      value="#{interfaceBean.result}"> </h:outputText>
                    </h:panelGroup>
                </h:form>
            </div>

            <div style="width: 9vw; height: 98vh; display:inline-table; vertical-align: top; horiz-align: center">

                <h:panelGroup>

                    <p:commandButton style="margin-right: 3px; margin-top: 1vh; width: 9vw; height: 6.8vh" id="previous" value="Previous"
                                     actionListener="#{interfaceBean.previousQuestion}" update="@all"/>

                    <p:commandButton  style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="next" value="Next"
                                     action="#{interfaceBean.nextQuestion()}" update="@all"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="know" value="Known"
                                     action="#{interfaceBean.rightAnswer(null)}" update="@all"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="donotknow" value="Unknown"
                                     action="#{interfaceBean.wrongAnswer(null)}" update="@all"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="prevWrong" value="Prev.Wrong"
                                     action="#{interfaceBean.previousWrong()}" update="@all"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="prevRight" value="Prev.Right"
                                     action="#{interfaceBean.previousRight()}" update="@all"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="dialogButton" value="Modificate"
                                     onclick="PF('modDialog').show();"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="deleteButton" value="Delete"
                                     onclick="PF('deleteDialog').show();"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="content" value="Show All"
                                         action="content"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; width: 9vw; height: 6.8vh" id="desktop" value="Desktop"
                                     action="learn?faces-redirect=true"/>

                    <p:commandButton style="margin-right: 3px; margin-top: 2vh; margin-bottom: 1vh; width: 9vw; height: 6.8vh" id="exit"
                                     type="submit" value="Exit" action="#{interfaceBean.exit()}"> </p:commandButton>






                </h:panelGroup>


            </div>

    <p:dialog id="modDialog" widgetVar="modDialog" modal="true" resizable="false" position="center top" header="Edit the current phrase">
        <h:form id="red">
            <h:panelGrid columns="2" layout="grid">
                <p:outputLabel value="Native word"/>
                <p:inputText size="40" value="#{interfaceBean.currPhrNatWord}" title="Native word"
                             label="Native word"> </p:inputText>

                <p:outputLabel value="Foreign word"/>
                <p:inputText size="40" value="#{interfaceBean.currPhrForWord}" title="Foreign word"
                             label="Foreign word"> </p:inputText>

                <p:outputLabel value="Transcription"/>
                <p:inputText size="40" value="#{interfaceBean.currPhrTransc}" title="Transcription"
                             label="Transcription"> </p:inputText>

                <p:outputLabel value="Label"/>
                <p:inputText size="40" value="#{interfaceBean.currPhrLabel}" title="Label"
                             label="Label"> </p:inputText>
            </h:panelGrid>
            <p:commandButton type="submit" value="Submit" action="#{interfaceBean.resultProcessing()}"
                             actionListener="#{messagesView.info}">
            </p:commandButton>
            <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true"/>
        </h:form>
    </p:dialog>

    <p:dialog id="deleteDialog" widgetVar="deleteDialog" hideEffect="highlight" modal="true" resizable="false" header="Delete the current phrase">
        <p:commandButton type="submit" value="Yes" action="#{interfaceBean.delete()}" oncomplete="PF('deleteDialog').hide();">

        </p:commandButton>
        <p:commandButton type="button" value="No" onclick="PF('deleteDialog').hide();">

        </p:commandButton>
    </p:dialog>
            <!--<div style="width: 28%; display:inline-table; vertical-align: top; horiz-align: center">
                <table >
                    <thead>
                    <tr>
                        <th scope="col">Properties within current session</th>
                        <th scope="col">Value</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Number of answers</td>
                        <td>#{interfaceBean.numOfAnswForSession}</td>
                    </tr>
                    <tr>
                        <td>Percent of right answers</td>
                        <td>#{interfaceBean.percentOfRightAnswers}</td>
                    </tr>
                    <tr>
                        <td>Words've been learnt</td>
                        <td>#{interfaceBean.numberOfLearnedPhrasePerSession}</td>
                    </tr>
                    <tr>
                        <td>Number of learned phrases</td>
                        <td>#{interfaceBean.learnedWords}</td>
                    </tr>
                    <tr>
                        <td>Number of unlearned phrases</td>
                        <td>#{interfaceBean.nonLearnedWords}</td>
                    </tr>
                    <tr>
                        <td>Total number of phrases</td>
                        <td>#{interfaceBean.totalNumberOfPhrases}</td>
                    </tr>
                    <tr>
                        <td>Time to access to the DB</td>
                        <td>#{interfaceBean.timeOfLastAccsToDb}ms.</td>
                    </tr>
                    </tbody>


                    &lt;!&ndash;                    Properties of current phrase                         &ndash;&gt;


                    <thead>
                    <tr>
                        <th scope="col">Properties of current phrase</th>
                        <th scope="col">Value</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>Chance of occurrence (points)</td>
                        <td>#{interfaceBean.currPhrProb}</td>
                    </tr>
                    <tr>
                        <td>Chance of occurrence (percents)</td>
                        <td>#{interfaceBean.currPhrPercentOfAppearance}</td>
                    </tr>
                    <tr>
                        <td>Id of current phrase</td>
                        <td>#{interfaceBean.id}</td>
                    </tr>
                    <tr>
                        <td>Time of returning phrase from collection</td>
                        <td>#{interfaceBean.currPhrase.timeOfReturningFromList}</td>
                    </tr>
                    <tr>
                        <td>Last access date</td>
                        <td>#{interfaceBean.currPhrAbsLastAccsDate}<br/>~#{interfaceBean.currPhrRelLastAccsDate}</td>
                    </tr>
                    <tr>
                        <td>Create date</td>
                        <td>#{interfaceBean.currPhrAbsCreateDate}<br/>~#{interfaceBean.currPhrRelCreateDate}</td>
                    </tr>
                    <tr>
                        <td>Label</td>
                        <td>#{interfaceBean.currPhrLabel}</td>
                    </tr>
                    <tr>
                        <td>Choosed phrase
                            <h:form>
                                <h:selectOneMenu id="table" value="#{interfaceBean.choosedLabel}">
                                    <f:ajax event="change" execute="table; #{interfaceBean.setTable()}" render="@all"/>
                                    <f:selectItems value="#{interfaceBean.listOfChooses}" var="group" itemValue="#{group}" itemLabel="#{group}"/>
                                </h:selectOneMenu>
                            </h:form>
                        </td>
                        <td>#{interfaceBean.resultChoosedLabel}</td>
                    </tr>
                    </tbody>
                </table>
            </div>-->
        </div>

    <!--</div>-->




</h:body>
</html>
